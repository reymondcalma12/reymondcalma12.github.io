@using Microsoft.AspNetCore.Identity;
@inject SignInManager<AppUser> signManager;


@if(signManager.IsSignedIn(User)){

}
<div class="collapse navbar-collapse " id="navbarNavDarkDropdown">
    <ul class="navbar-nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle mx-5" href="#" id="navbarDarkDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                @Model.Name
            </a>
            <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="navbarDarkDropdownMenuLink">
                <li>
                    <button type="button" class="dropdown-item" data-bs-toggle="modal" data-bs-target="#exampleModalCenter">
                        View Profile
                    </button>
                    <a class="dropdown-item" asp-action="Logout" asp-controller="Account">
                       Logout
                    </a>
                </li>
            </ul>
        </li>
    </ul>
</div>


<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" aria-labelledby="staticBackdropLabel" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content" style="border-radius:2rem;">
            <div class="modal-header d-flex">

                <div class="d-flex w-100 justify-content-center head">
                    <h4 class="modal-title text-center">Your Profile</h4>
                </div>
             
                <button type="button" class="close btn btn-outline-dark profBtn" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="prof1">
                    <div class="profilePicture">
                        @if (Model.Profile != null)
                        {
                            <img src="~/profile/@Model.Profile" />
                        }
                        else
                        {
                            <img src="~/profile/default.jpg" />
                        }
                    </div>
                    <div class="profilePersonal text-center">
                        <h5>@Model.Name</h5>
                    </div>
                </div>
                <div class="prof2">
                    <div class="prof21">
                        <h6>UserName:</h6>
                        <h6>@Model.UserName</h6>
                    </div>
                    <div class="prof22">
                        <h6>Phone Number:</h6>
                        <h6>@Model.PhoneNumber</h6>
                    </div>
                    <div class="prof23">
                        <button type="button" class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#exampleModalCenter2" style="border-radius:.8rem;">
                            Edit Profile
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<form method="post" enctype="multipart/form-data" asp-action="UpdateProfile" asp-controller="Account">
    <div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" aria-labelledby="staticBackdropLabel" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">

            <div class="modal-content" style="border-radius:2rem;">
                <div class="modal-header d-flex">

                    <div class="d-flex w-100 justify-content-center head">
                        <h4 class="modal-title text-center">Your Profile</h4>
                    </div>

                    <button type="button" class="close btn btn-outline-dark profBtn" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="prof1">
                        <div class="profilePicture">
                            @if (Model.Profile != null)
                            {
                                <img src="~/profile/@Model.Profile" />
                            }
                            else
                            {
                                <img src="~/profile/default.jpg" />

                            }
                            <input type="file" name="image" accept="image" class="form-control selectt" id="profileString"/>
                        </div>
                        <div class="profilePersonal text-center">
                            <h5><input type="text" value="@Model.Name" style="border:none;" class="text-center" id="Name" name="name"/></h5>
                        </div>
                    </div>
                    <div class="prof2">
                        <div class="prof21">
                            <h6>UserName:</h6>
                            <h6><input type="text" value="@Model.UserName" style="border:none; background:#F0F0F0;"  id="Email" name="email"/></h6>
                        </div>
                        <div class="prof22">
                            <h6>Phone Number:</h6>
                            <h6><input type="text" value="@Model.PhoneNumber" style="border:none; background:#F0F0F0;" id="Number" name="number"/></h6>
                        </div>
                        <div class="prof23">
                                <button type="submit" class="btn btn-outline-dark " id="updateProfile" style="border-radius:.8rem;">
                                Done
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
